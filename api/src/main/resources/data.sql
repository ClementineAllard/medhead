DROP TABLE IF EXISTS utilisateurs;
DROP TABLE IF EXISTS specialisations;
DROP TABLE IF EXISTS specialites;
DROP TABLE IF EXISTS hopitaux;

CREATE TABLE utilisateurs (
  id INT AUTO_INCREMENT PRIMARY KEY,
  email VARCHAR(250) NOT NULL UNIQUE,
  prenom VARCHAR(250) NOT NULL,
  nom VARCHAR(250) NOT NULL,
  mot_de_passe VARCHAR(250) NOT NULL
);
 
INSERT INTO utilisateurs (email, prenom, nom, mot_de_passe) VALUES
  ('laurentgina@mail.com', 'Laurent', 'GINA', 'laurent'),
  ('sophiefoncek@mail.com','Sophie', 'FONCEK',  'sophie'),
  ('agathefeeling@mail.com','Agathe', 'FEELING', 'agathe');


CREATE TABLE specialites (
  id INT AUTO_INCREMENT PRIMARY KEY,
  libelle VARCHAR(250) NOT NULL,
  code_spec VARCHAR(6) NOT NULL UNIQUE,
  code_parent VARCHAR(6) REFERENCES specialites(code_spec)
);

INSERT INTO specialites (libelle, code_spec, code_parent) VALUES
  ('Anesthésie', '001000', ''),
  ('Anesthésie', '001001', '001000'),
  ('Soins intensifs', '001002', '001000'),
  
  ('Oncologie clinique', '002000', ''),
  ('Oncologie clinique', '002001', '002000'),
  
  ('Dentisterie', '003000', ''),
  ('Spécialités dentaires supplémentaires', '003001', '003000'),
  ('Radiologie dentaire et maxillo-faciale', '003002', '003000'),
  ('Endodontie', '003003', '003000'),
  ('Chirurgie buccale et maxillo-faciale', '003004', '003000'),
  ('Pathologie buccale et maxillo-faciale', '003005', '003000'),
  ('Médecine buccale', '003006', '003000'),
  ('Chirurgie buccale', '003007', '003000'),
  ('Orthodontie', '003008', '003000'),
  ('Dentisterie pédiatrique', '003009', '003000'),
  ('Parodontie', '003010', '003000'),
  ('Prosthodontie', '003011', '003000'),
  ('Dentisterie restauratrice', '003012', '003000'),
  ('Dentisterie de soins spéciaux', '003013', '003000'),
  
  ('Médecine d\'urgence', '004000', ''),
  ('Médecine d\'urgence', '004001', '004000'),
  
  ('Médecine générale', '005000', ''),
  ('Médecine interne de soins aigus', '005001', '005000'),
  ('Allergie', '005002', '005000'),
  ('Médecine audiovestibulaire', '005003', '005000'),
  ('Cardiologie', '005004', '005000'),
  ('Génétique clinique', '005005', '005000'),
  ('Neurophysiologie clinique', '005006', '005000'),
  ('Pharmacologie clinique et thérapeutique', '005007', '005000'),
  ('Dermatologie', '005008', '005000'),
  ('Endocrinologie et diabète sucré', '005009', '005000'),
  ('Gastroentérologie', '005010', '005000'),
  ('Médecine générale (interne)', '005011', '005000'),
  ('Médecine générale', '005012', '005000'),
  ('Médecine générale (GP) 6 mois', '005013', '005000'),
  ('Médecine génito-urinaire', '005014', '005000'),
  ('Médecine gériatrique', '005015', '005000'),
  ('Maladies infectieuses', '005016', '005000'),
  ('Oncologie médicale', '005017', '005000'),
  ('Ophtalmologie médicale', '005018', '005000'),
  ('Neurologie', '005019', '005000'),
  ('Médecine du travail', '005020', '005000'),
  ('Autre', '005021', '005000'),
  ('Médecine palliative', '005022', '005000'),
  ('Médecine de réadaptation', '005023', '005000'),
  ('Médecine rénale', '005024', '005000'),
  ('Médecine respiratoire', '005025', '005000'),
  ('Rhumatologie', '005026', '005000'),
  ('Médecine du sport et de l\'exercice', '005027', '005000'),
  
  ('Obstétrique et gynécologie', '006000', ''),
  ('Santé publique sexuelle et procréative', '006001', '006000'),
  
  ('Pédiatrie', '007000', ''),
  ('Cardiologie pédiatrique', '007001', '007000'),
  ('Pédiatrie', '007002', '007000'),
  
  ('Pathologie', '008000', ''),
  ('Pathologie chimique', '008001', '008000'),
  ('Neuropathologie diagnostique', '008002', '008000'),
  ('Histopathologie médico-légale', '008003', '008000'),
  ('Pathologie générale', '008004', '008000'),
  ('Hématologie', '008005', '008000'),
  ('Histopathologie', '008006', '008000'),
  ('Immunologie', '008007', '008000'),
  ('Microbiologie médicale', '008008', '008000'),
  ('Pathologie pédiatrique et périnatale', '008009', '008000'),
  ('Virologie', '008010', '008000'),
  
  ('Pronostics et gestion de la santé', '009000', ''),
  ('Service de santé communautaire dentaire', '009001',  '009000'),
  ('Service de santé communautaire médicale', '009002',  '009000'),
  ('Santé publique dentaire', '009003',  '009000'),
  ('Pratique de l\'art dentaire', '009004',  '009000'),
  ('Santé publique', '009005',  '009000'),
  
  ('Psychiatrie', '010000', ''),
  ('Psychiatrie infantile et adolescente', '010001', '010000'),
  ('Psychiatrie légale', '010002', '010000'),
  ('Psychiatrie générale', '010003', '010000'),
  ('Psychiatrie de la vieillesse', '010004', '010000'),
  ('Psychiatrie des troubles d\'apprentissage', '010005', '010000'),
  ('Psychothérapie', '010006', '010000'),
  
  ('Radiologie', '011000', ''),
  ('Radiologie clinique', '011001', '011000'),
  ('Médecine nucléaire', '011002', '011000'),
  
  ('Chirurgie', '012000', ''),
  ('Chirurgie cardiothoracique', '012001', '012000'),
  ('Chirurgie générale', '012002', '012000'),
  ('Neurochirurgie', '012003', '012000'),
  ('Ophtalmologie', '012004', '012000'),
  ('Otolaryngologie', '012005', '012000'),
  ('Chirurgie pédiatrique', '012006', '012000'),
  ('Chirurgie plastique', '012007', '012000'),
  ('Traumatologie et chirurgie orthopédique', '012008', '012000'),
  ('Urologie', '012009', '012000'),
  ('Chirurgie vasculaire', '012010', '012000');
  

CREATE TABLE hopitaux (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nom VARCHAR(250) NOT NULL,
  adresse VARCHAR(250) NOT NULL,
  ville VARCHAR(250) NOT NULL,
  code_postal VARCHAR(5) NOT NULL,
  telephone VARCHAR(14) NOT NULL,
  nb_lit INT NOT NULL
);

INSERT INTO hopitaux (nom, adresse, ville, code_postal, telephone, nb_lit) VALUES
('Hôpital Saint-Jean', '12 Rue des Lilas', 'Paris', '75015', '01 40 23 45 67', 120),
('Centre Hospitalier Universitaire Dupont', '85 Avenue des Champs Élysées', 'Lyon', '69006', '04 78 24 56 78', 300),
('Clinique de la Paix', '45 Rue de la Paix', 'Marseille', '13001', '04 91 53 21 45', 80),
('Hôpital Général de Bordeaux', '10 Rue Sainte-Catherine', 'Bordeaux', '33000', '05 56 90 33 44', 250),
('Centre Médical de Lille', '22 Boulevard de Strasbourg', 'Lille', '59000', '03 20 60 77 88', 200),
('Hôpital Saint-Vincent', '9 Rue de la République', 'Toulouse', '31000', '05 34 45 67 89', 180),
('Clinique des Cèdres', '18 Allée des Acacias', 'Nice', '06000', '04 93 56 78 90', 150),
('Hôpital de l\'Océan', '53 Avenue de la Plage', 'Biarritz', '64200', '05 59 22 33 44', 100),
('Hôpital Universitaire de Strasbourg', '32 Rue de la Liberté', 'Strasbourg', '67000', '03 88 45 67 89', 350),
('Clinique du Soleil', '21 Rue du Soleil Levant', 'Montpellier', '34000', '04 67 56 78 90', 90),
('Centre de Soins d\'Orléans', '77 Rue Royale', 'Orléans', '45000', '02 38 56 78 90', 110),
('Hôpital Sainte-Marie', '15 Rue du Château', 'Rennes', '35000', '02 99 23 45 67', 200),
('Centre Hospitalier de Nantes', '29 Quai de la Fosse', 'Nantes', '44000', '02 40 50 60 70', 280),
('Hôpital de la Côte d\'Azur', '88 Avenue des Palmiers', 'Cannes', '06400', '04 93 99 11 22', 130),
('Hôpital Saint-Pierre', '5 Rue de la Fontaine', 'Metz', '57000', '03 87 23 45 67', 160),
('Clinique du Lac', '41 Boulevard du Lac', 'Annecy', '74000', '04 50 23 45 67', 70),
('Hôpital Mont-Blanc', '62 Avenue de la Montagne', 'Chamonix', '74400', '04 50 22 33 44', 60),
('Hôpital Universitaire de Grenoble', '8 Rue des Alpes', 'Grenoble', '38000', '04 76 23 45 67', 320),
('Centre Médical du Havre', '90 Rue de Normandie', 'Le Havre', '76600', '02 35 22 33 44', 140),
('Hôpital Saint-Luc', '16 Rue des Églises', 'Tours', '37000', '02 47 23 45 67', 190);


CREATE TABLE specialisations (
  id INT AUTO_INCREMENT PRIMARY KEY,
  id_hopital INT REFERENCES hopitaux(id),
  code_spec VARCHAR(6) REFERENCES specialites(code_spec),
  UNIQUE(id_hopital, code_spec)
);

INSERT INTO specialisations (id_hopital, code_spec) VALUES
(1, '001000'),
(1, '001002'),
(1, '005000'),
(2, '005000'),
(2, '005017'),
(2, '005025'),
(2, '005004'),
(3, '003000'),
(3, '003007'),
(3, '003008'),
(4, '004000'),
(4, '004001'),
(4, '005000'),
(4, '005008'),
(4, '005019'),
(5, '005000'),
(5, '005010'),
(5, '005011'),
(5, '005023'),
(6, '005000'),
(6, '005022'),
(6, '005027'),
(6, '001000'),
(6, '001002'),
(7, '003000'),
(7, '003002'),
(7, '003003'),
(7, '003005'),
(8, '010000'),
(8, '005000'),
(8, '005023'),
(8, '009000'),
(8, '009005'),
(9, '005000'),
(9, '005019'),
(9, '012000'),
(9, '012002'),
(9, '012009'),
(10, '005000'),
(10, '005012'),
(10, '005018'),
(10, '007000'),
(10, '007002'),
(11, '007000'),
(11, '007001'),
(11, '005000'),
(11, '005001'),
(11, '005016'),
(12, '011000'),
(12, '011002'),
(12, '005000'),
(12, '005017'),
(13, '012000'),
(13, '012008'),
(13, '001000'),
(13, '001002'),
(13, '012001'),
(14, '005000'),
(14, '005012'),
(14, '005002'),
(14, '008000'),
(14, '008009'),
(15, '005000'),
(15, '005015'),
(15, '005026'),
(15, '005024'),
(16, '005000'),
(16, '005014'),
(16, '005007'),
(16, '006000'),
(16, '006001'),
(17, '012000'),
(17, '012010'),
(17, '008000'),
(17, '008006'),
(17, '005000'),
(17, '005020'),
(18, '005000'),
(18, '005008'),
(18, '008000'),
(18, '008004'),
(18, '005025'),
(19, '005000'),
(19, '005017'),
(19, '012000'),
(19, '012006'),
(19, '007000'),
(20, '005000'),
(20, '005001'),
(20, '008000'),
(20, '008007'),
(20, '005003');
