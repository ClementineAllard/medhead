<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Title -->
<title>MedHead - Plateforme de réservation de lits d'hopitaux.</title>
		
<!-- Favicon -->
<link rel="icon" src="img/favicon.png">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Poppins:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Nice Select CSS -->
<link rel="stylesheet" href="css/nice-select.css">
<!-- Font Awesome CSS -->
<link rel="stylesheet" href="css/font-awesome.min.css">
<!-- icofont CSS -->
<link rel="stylesheet" href="css/icofont.css">
<!-- Slicknav -->
<link rel="stylesheet" href="css/slicknav.min.css">
<!-- Owl Carousel CSS -->
<link rel="stylesheet" href="css/owl-carousel.css">
<!-- Datepicker CSS -->
<link rel="stylesheet" href="css/datepicker.css">
<!-- Animate CSS -->
<link rel="stylesheet" href="css/animate.min.css">
<!-- Magnific Popup CSS -->
<link rel="stylesheet" href="css/magnific-popup.css">

<!-- Medipro CSS -->
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="css/responsive.css">

</head>

<body>
    <!-- Header Area -->
	<header class="header" >
		<!-- Header Inner -->
		<div class="topbar">
			<div class="container">
				<div class="row">
					<!-- Start Logo -->
					<div class="logo">
						<a><img src="img/logo.png" alt="#"></a>
					</div>
					<!-- End Logo -->		
				</div>
			</div>
		</div>
		<!--/ End Header Inner -->
	</header>
	<!-- End Header Area -->

    <!-- Start Alert -->
	<div id="alerte" class="alert alert-danger" style="display: none;">
        <span id="alerteMessage">ddd</span>
    </div>
    <!-- /End Alert -->

    <!-- Start Recherche -->
	<section class="bloc">
		<div class="container">
				<div class="row justify-content-md-center"> 
					<div class="col-lg-10">
						<div class="bloc-form">
							<h2>Recherche</h2>
							<!-- Form -->
							<form class="form">
								<div class="row">
									<div class="col-lg-12">
										<div class="form-group">
											<input type="text" name="ville" placeholder="Ville" tabindex="1" required="">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
                                               <div class="nice-select form-control wide" tabindex="2" required=""><span class="current">Groupe</span>
                                                   <ul class="list">
                                                        <li  th:value=0 class="option" onclick="fChangementGroupe(this.value);"></li>
                                                        <li  th:each="groupe: ${groupes}" th:value="${groupe.id}" th:text="${groupe.libelle}" class="option" onclick="fChangementGroupe(this.value);"></li>
                                                   </ul>
                                               </div>
                                           </div>
									</div>
                                    <div class="col-lg-6">
										<div class="form-group">
                                               <div class="nice-select form-control wide" tabindex="3" required="" id="specialitesSelect" ><span class="current" id="specialiteCourante" >Spécialité</span>
                                                   <ul class="list" id="specialitesListe">
                                                   </ul>
                                               </div>
                                           </div>
									</div>
									<div class="col-6" style="display: block; margin: 0 auto;" >
										<div class="form-group login-btn">
											<button class="btn" type="submit" >Rechercher</button>
										</div>
									</div>
								</div>
							</form>
							<!--/ End Form -->
					    </div>
				    </div>
			    </div>
	    </div>
    </section>
	<!--/ End Recherche -->

    <!-- Start Hopital -->
		<section class="bloc" >
			<div class="container">
				<div class="row justify-content-md-center"> 
					<div class="col-lg-6 col-6 inner">				
						<div class="bloc-form">
							<h2>Hopital Fred Brooks</h2>
                            <ul class="list" style="margin-bottom: 20px;">
                                <li><i class="fa fa-map-marker" style="margin-right: 5px; color: #1A76D1;"></i>25 rue du Four, 54 000 Nancy</li>
                                <li><i class="fa fa-phone" style="margin-right: 5px; color: #1A76D1;"></i>03 83 53 65 85</li>
                            </ul>
                            <button class="btn" type="submit" style="display: block; margin: 0 auto;">Réserver un lit</button>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!--/ End Hopital -->
	
    <!-- Footer Area -->
    <footer id="footer" class="footer">
	    <!-- Copyright -->
	    <div class="copyright">
		    <div class="container">
			    <div class="row">
				    <div class="col-lg-12 col-12">
					    <div class="copyright-content">
						    <p>© Copyright 2018  |  All Rights Reserved by <a href="https://www.wpthemesgrid.com" target="_blank">wpthemesgrid.com</a> </p>
					    </div>
				    </div>
			    </div>
		    </div>
	    </div>
	    <!--/ End Copyright -->
    </footer>
    <!--/ End Footer Area -->
    
    <!-- jquery Min JS -->
    <script src="js/jquery.min.js"></script>
    <!-- jquery Migrate JS -->
    <script src="js/jquery-migrate-3.0.0.js"></script>
    <!-- jquery Ui JS -->
    <script src="js/jquery-ui.min.js"></script>
    <!-- Easing JS -->
    <script src="js/easing.js"></script>
    <!-- Color JS -->
    <script src="js/colors.js"></script>
    <!-- Popper JS -->
    <script src="js/popper.min.js"></script>
    <!-- Bootstrap Datepicker JS -->
    <script src="js/bootstrap-datepicker.js"></script>
    <!-- Jquery Nav JS -->
    <script src="js/jquery.nav.js"></script>
    <!-- Slicknav JS -->
    <script src="js/slicknav.min.js"></script>
    <!-- ScrollUp JS -->
    <script src="js/jquery.scrollUp.min.js"></script>
    <!-- Niceselect JS -->
    <script src="js/niceselect.js"></script>
    <!-- Tilt Jquery JS -->
    <script src="js/tilt.jquery.min.js"></script>
    <!-- Owl Carousel JS -->
    <script src="js/owl-carousel.js"></script>
    <!-- counterup JS -->
    <script src="js/jquery.counterup.min.js"></script>
    <!-- Steller JS -->
    <script src="js/steller.js"></script>
    <!-- Wow JS -->
    <script src="js/wow.min.js"></script>
    <!-- Magnific Popup JS -->
    <script src="js/jquery.magnific-popup.min.js"></script>
    <!-- Counter Up CDN JS -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Main JS -->
    <script src="js/main.js"></script>

    <script type="text/javascript" >
        //Recherche des spécialités du groupe sélectionné, appelée lors d'un changement de sélection de groupe
        function fChangementGroupe(idGroupe) {
            // On remet à zéro la liste de spécialités et le champ d'alerte
            $('#specialitesListe').empty();
            $('#specialiteCourante').empty();
            $('#alerte').hide();

            // Si aucun groupe est sélectionné -> on rend inaccessible la sélection de spécialités et on quitte la fonction
            if(idGroupe==0){
                $("#specialitesSelect").prop("disabled", true);
                return '';
            } else { // Si un groupe est sélectionné -> on rend accessible la sélection de spécialités
                $("#specialitesSelect").prop("disabled", false);
            }
           
            // On recherche ensuite la liste des spécialités pour remplir le champ
            $.ajax({
                method: "GET",
                contentType: "application/json",
                url: "/specialites/"+idGroupe,
                dataType: 'json',
                success: function (data) {
                    // On met un premier champ vide pour qu'il soit possible de ne pas choisir de spécialité
                    $('#specialitesListe').append('<li value=0 class="option"></li>');

                    // On ajoute toutes les spécialités dans le champ de sélection
                    data.result.forEach(function(specialite) {
                        $('#specialitesListe').append('<li value='+ specialite.id +' class="option" >' + specialite.libelle + '</li>');
                    });
                },
                error: function () {
                    $('#alerte').show();
                    $('#alerteMessage')[0].innerText='Erreur lors du chargement des spécialités';
                }
            });
        }

    </script>



</body>




</html>